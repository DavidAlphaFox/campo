<%= form_with model: topic, id: 'topic-form', data: { controller: 'editor' } do |form| %>
  <div class="form-row">
    <div class="form-group col-8">
      <%= form.text_field :title, class: 'form-control', placeholder: 'Title', autocomplete: 'off' %>
    </div>
    <div class="form-group col-4">
      <%= form.collection_select :forum_id, Forum.order(topics_count: :desc).all, :id, :name, {}, class: 'form-control' %>
    </div>
  </div>
  <%= form.fields_for :first_post do |post_form| %>
    <div class="form-group">
      <%= render partial: 'posts/editor', locals: { form: post_form, name: :body } %>
    </div>
  <% end %>

  <%= form.submit class: 'btn btn-primary' %>
<% end %>
