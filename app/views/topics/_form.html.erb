<%= form_with model: @topic, id: 'topic-form', data: { controller: 'editor' } do |form| %>
  <div class="form-row">
    <div class="form-group col-8">
      <%= form.text_field :title, class: 'form-control', placeholder: 'Title' %>
    </div>
    <div class="form-group col-4">
      <%= form.collection_select :forum_id, Forum.order(topics_count: :desc).all, :id, :name, {}, class: 'form-control' %>
    </div>
  </div>
  <%= form.fields_for :first_post do |post_form| %>
    <div class="form-group">
      <%= post_form.text_area :body, rows: 8, data: { target: 'editor.textarea' }, class: 'form-control' %>
    </div>
  <% end %>

  <div class="form-group">
    <%= form.submit class: 'btn btn-primary' %>
    <label class="btn btn-light mb-0">
      <i class="fa fa-paperclip"></i>
      <input type="file" data-action="editor#attachFile" accept="image/*" class="d-none">
    </label>
  </div>
<% end %>
